<script src="filament.js"></script>
<script>
  Filament.init(['filament.wasm'], () => {
    const canvas = document.getElementById('canvas');
    const engine = Filament.Engine.create(canvas);
    const scene = engine.createScene();

    // Luz
    const light = Filament.EntityManager.get().create();
    Filament.LightManager.Builder(Filament.LightManager$Type.SUN)
      .color([1.0, 1.0, 0.9])
      .intensity(100000)
      .direction([0.5, -1, -0.3])
      .build(engine, light);
    scene.addEntity(light);

    // Câmera
    const camEntity = Filament.EntityManager.get().create();
    const cam = engine.createCamera(camEntity);
    cam.lookAt([0, 0, 4], [0, 0, 0]);

    // View
    const view = engine.createView();
    const swapChain = engine.createSwapChain();
    view.setCamera(cam);
    view.setScene(scene);

    // Loop de renderização
    function render() {
      engine.beginFrame(swapChain);
      engine.render(view);
      engine.endFrame();
      requestAnimationFrame(render);
    }
    render();
  });
</script>
<canvas id="canvas" width="800" height="600"></canvas>
